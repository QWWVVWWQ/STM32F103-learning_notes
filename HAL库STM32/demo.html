<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STM32F103</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background-color: #0a0a0a;
            color: #f0f0f0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 头部样式 */
        header {
            text-align: center;
            padding: 30px 0 20px;
            border-bottom: 1px solid #333;
            margin-bottom: 40px;
        }
        
        h1 {
            color: #fff;
            font-size: 2.8rem;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        
        .subtitle {
            color: #aaa;
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        /* 芯片容器 */
        .chip-container {
            position: relative;
            width: 100%;
            height: 700px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 80px;
        }
        
        /* 芯片SVG样式 */
        .chip-svg {
            width: 450px;
            height: 450px;
            z-index: 10;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.15));
            transition: transform 0.5s ease;
        }
        
        .chip-svg:hover {
            transform: scale(1.05);
        }
        
        /* 连接线容器 */
        .connection-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
        }
        
        .connection-line {
            stroke: #666;
            stroke-width: 2;
            stroke-dasharray: 5, 5;
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        
        /* 气泡样式 */
        .bubble {
            position: absolute;
            background-color: #1a1a1a;
            border: 2px solid #444;
            border-radius: 12px;
            padding: 15px 20px;
            width: 200px;
            z-index: 20;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
            cursor: pointer;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .bubble.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        .bubble:hover {
            background-color: #222;
            border-color: #888;
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
        }
        
        .bubble::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #1a1a1a;
            border: 2px solid #444;
            transform: rotate(45deg);
            z-index: -1;
            transition: all 0.3s ease;
        }
        
        .bubble:hover::before {
            background-color: #222;
            border-color: #888;
        }
        
        /* 调整扇形排列的气泡箭头位置 */
        .bubble.left-top::before,
        .bubble.left-middle-top::before,
        .bubble.left-middle-bottom::before,
        .bubble.left-bottom::before {
            right: -10px;
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
            border-right: none;
            border-top: none;
        }
        
        .bubble.right-top::before,
        .bubble.right-middle-top::before,
        .bubble.right-middle-bottom::before,
        .bubble.right-bottom::before {
            left: -10px;
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
            border-left: none;
            border-bottom: none;
        }
        
        .bubble a {
            text-decoration: none;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .bubble-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #ccc;
        }
        
        .bubble-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #fff;
        }
        
        .bubble-desc {
            font-size: 0.9rem;
            color: #aaa;
            line-height: 1.4;
        }
        
        /* 脉冲动画 */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(100, 100, 100, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(100, 100, 100, 0); }
            100% { box-shadow: 0 0 0 0 rgba(100, 100, 100, 0); }
        }
        
        .bubble {
            animation: pulse 2s infinite;
        }
        
        .bubble:hover {
            animation: none;
        }
        
        /* 特性展示区域 */
        .features {
            background-color: #111;
            border-radius: 15px;
            padding: 40px;
            margin-top: 40px;
            border: 1px solid #333;
        }
        
        .features h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 30px;
            color: #fff;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .feature-card {
            background-color: #1a1a1a;
            border-radius: 10px;
            padding: 25px;
            border-left: 4px solid #666;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: #aaa;
        }
        
        .feature-card h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-card p {
            color: #bbb;
            line-height: 1.6;
        }
        
        footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 60px;
            border-top: 1px solid #333;
            color: #888;
            font-size: 0.9rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 1200px) {
            .chip-container {
                height: 600px;
            }
            
            .chip-svg {
                width: 400px;
                height: 400px;
            }
            
            .bubble {
                width: 180px;
                padding: 12px 15px;
            }
        }
        
        @media (max-width: 992px) {
            .chip-container {
                height: 800px;
                flex-direction: column;
            }
            
            .chip-svg {
                margin-bottom: 50px;
                width: 350px;
                height: 350px;
            }
            
            /* 移动设备上调整气泡位置 */
            .bubble {
                position: static;
                width: 80%;
                margin: 10px auto;
                transform: none !important;
            }
            
            .bubble::before {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .chip-container {
                height: auto;
                flex-direction: column;
            }
            
            .chip-svg {
                width: 300px;
                height: 300px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .bubble {
                width: 90%;
                padding: 12px 15px;
                position: static;
                margin: 10px auto;
            }
            
            .bubble-title {
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 576px) {
            .chip-container {
                height: auto;
            }
            
            .chip-svg {
                width: 250px;
                height: 250px;
            }
            
            .bubble {
                width: 95%;
                padding: 10px 12px;
            }
            
            .features {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>STM32F103 微控制器</h1>
            <p class="subtitle">
                STM32F103系列是基于ARM Cortex-M3内核的微控制器，具有丰富的外设和强大的处理能力。
            </p>
        </header>
        
        <main>
            <div class="chip-container">
                <!-- 芯片SVG -->
                <svg t="1769741174431" class="chip-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5100">
                    <path d="M830.21 485.85c4.39 0.41 9.3-2.81 13.7-4.93 4.93-2.38 9.47-7.54 14.34-7.76 20.39-0.89 40.85-0.37 62.08-0.37v-39.77c-13.28 0-25.79 1.37-37.86-0.36-14.14-2.02-32.82 9.7-41.51-12.19-0.55-1.39-6.05-0.92-9.27-1.14-5.23-0.37-10.47-0.6-17.4-0.98 0-13.58 0.31-25.91-0.11-38.22-0.28-8.46 3.25-11.51 11.49-11.46 5.71 0.04 11.61-0.94 17.1-2.56 7-2.06 13.57-7.13 20.52-7.53 18.77-1.08 37.64-0.37 56.86-0.37v-39.37c-11.35 0-21.78 1.36-31.71-0.31-16.21-2.73-36.95 10.61-48.02-12.67-0.7-1.47-6.09-0.74-9.3-0.96-5.19-0.36-10.38-0.66-16.79-1.07-0.06-27.59 2.58-54.51-18.95-75.6-21.26-20.83-48.83-15.94-71.61-17.72-3.44-11.84-5.53-20.75-8.7-29.25-1.92-5.16-7.32-9.47-7.97-14.57-1.3-10.12-0.4-20.52-0.4-30.8 0-35.87 0-35.88-36.07-31.24-0.46 0.06-0.85 0.65-3.19 2.54 0 15.56 0.47 32.74-0.18 49.88-0.36 9.56 5.37 22.35-10.89 25.88-1.39 0.3-2.16 5.69-2.36 8.78-0.37 5.77-0.11 11.57-0.11 18.18h-49.59c-1.55-9.97-0.76-25.17-4.68-26.5-14.31-4.85-9.71-14.99-10.09-23.66-0.56-12.96-1.39-26.12 0.15-38.92 2.16-17.95-8.36-17.02-20.66-17.33-13.2-0.33-19.47 1.24-20.66 17.79-1.55 21.51 12.89 46.84-11.52 64.59-1.42 1.04-0.63 5.16-0.82 7.85-0.37 5.21-0.7 10.42-1.08 15.98h-47.59c-2.69-10.53-2.37-24.46-7.86-27.34-8.84-4.63-8.37-9.84-8.41-16.54-0.14-20.29-0.05-40.57-0.05-62.06-9.84 0-16.84 0.57-23.72-0.13-11.79-1.2-16.86 2.82-15.99 15.34 0.94 13.46 0.31 27.05 0.16 40.57-0.06 5.92 0.78 16.45-1.17 17.04-18.15 5.52-10 21.08-13.53 33.5h-46.96c-2.32-10.09-1.81-24.66-7.04-27.14-10.5-4.98-9.38-11.54-9.42-19.32-0.08-19.31-0.03-38.62-0.03-57.45-37.49-7.4-37.98-6.06-39.63 28.31-0.84 17.38 10.45 38.77-12.35 51.52-1.56 0.87-0.66 6.14-0.9 9.36-0.35 4.7-0.71 9.4-1.16 15.42-26.68 0.62-53.29-2.54-74.24 17.96-21.49 21.02-17.8 48.36-18.74 73.43-9.74 2.45-22.85 2.41-24.59 6.85-4.33 10.99-11.55 9.67-19.37 9.73-19.36 0.14-38.72 0.05-58.72 0.05v39.38c20.28 0 40.17-0.23 60.06 0.16 5.09 0.1 14.16 1.38 14.57 3.46 2.6 13.22 12.54 8.61 20.24 10.42 4.16 0.98 10.53 4.92 10.79 7.97 1.17 13.71 0.51 27.57 0.51 40.1-11.6 2.85-20.7 4.5-29.38 7.43-5.67 1.92-10.59 7.96-16.05 8.24-19.82 1.03-39.73 0.41-60.5 0.41v39.93c17.41 0 34.1-0.75 50.66 0.28 9.76 0.61 23.88-7.04 27.32 11.02 0.22 1.13 5.87 1.59 9.02 1.73 5.74 0.27 11.5 0.08 19.04 0.08 0 13.91-0.53 25.72 0.16 37.46 0.61 10.43-2.88 14.76-13.76 14.21-5.2-0.26-14.65 1.74-15.15 4.16-2.17 10.48-9.26 8.9-16.08 8.92-20.35 0.06-40.71 0.02-60.79 0.02v39.52c13.72 0 26.28-1.25 38.48 0.33 13.77 1.79 31.87-9.41 40.31 11.86 0.55 1.4 6.02 0.94 9.22 1.17 5.25 0.38 10.51 0.61 17.61 1.01 0 13.41-0.42 25.73 0.14 38 0.43 9.45-3.74 11.98-12.51 12.19-5.78 0.14-11.7 2.52-17.18 4.81-5.58 2.33-10.58 8.02-16.03 8.31-19.82 1.03-39.73 0.41-60.15 0.41v39.09c19.01 0 36.82-0.23 54.62 0.1 8.97 0.16 20.3-3.93 22.76 11.03 0.25 1.54 6.38 2.57 9.89 3.02 5.66 0.73 11.41 0.78 18.03 1.17 1.01 27.15-2.41 53.61 18.26 74.67 21.26 21.65 48.82 16.44 76.16 18.92 0 7.01-0.59 12.91 0.21 18.61 0.52 3.69 2.9 7.2 4.79 10.59 2.69 4.84 7.94 9.39 8.18 14.27 0.96 19.21 0.39 38.49 0.39 57.96h39.31c0-20.9-0.19-40.8 0.15-60.7 0.08-4.51 1.17-12.45 3.17-12.92 12.47-2.9 9.09-12.24 10.65-20.32 0.84-4.37 5.55-10.97 9.05-11.32 13.26-1.34 26.74-0.54 39.32-0.54 2.36 11.16 1.64 25.76 6.75 28.21 10.74 5.16 8.77 12.21 8.86 19.72 0.25 19.22 0.08 38.45 0.08 58.08h40.17c0-12.01-1.31-23.42 0.31-34.39 2.28-15.39-9.82-34.9 11.84-45.42 1.07-0.52 1.26-4.17 0.88-6.17-3.57-19.1 7.28-21.75 22.39-20.21 5.36 0.55 10.84 0.44 16.22 0.04 10.01-0.74 13.24 3.95 13.18 13.5-0.03 5.4 1.48 14.89 4.01 15.51 11.01 2.69 9.25 10.36 9.28 17.68 0.08 19.76 0.03 39.52 0.03 59.08h39.46c0-9.17-1.4-17.47 0.28-25.1 4-18.2-11.95-41.11 12.57-54.72 1.29-0.72 0.67-5.11 0.72-7.8 0.09-5.32 0.03-10.65 0.03-16.81h47.65c2.8 10.45 2.5 23.85 8.19 27.26 8.8 5.27 8.81 10.79 8.81 18.23 0.01 19.75 0 39.5 0 58.73h39.12c0-21.32-0.34-41.25 0.26-61.16 0.14-4.59 3.3-9.17 5.44-13.58 2.47-5.1 7.89-10.18 7.57-14.97-0.93-13.74 5.25-17.17 17.27-15.9 4.81 0.51 9.73 0.14 14.6 0 36.36-1.04 60.72-24.95 62.32-61.27 0.29-6.48 0.58-13.03 0.02-19.47-0.88-10.09 3.56-13.11 13.19-13.18 5.6-0.04 11.36-2.91 16.72-5.24 5.13-2.23 9.73-7.58 14.74-7.83 19.21-0.94 38.5-0.38 57.89-0.38v-39.53c-21.26 0-41.23 0.18-61.19-0.14-4.59-0.07-12.92-1.37-13.13-2.95-1.8-13.58-12-8.95-19.68-10.86-4.38-1.09-10.82-5.59-11.17-9.07-1.32-13.23-0.53-26.66-0.53-41.75 7.9 0 13.76 0.39 19.53-0.15 3.34-0.32 9.17-1.79 9.38-3.35 1.73-12.78 11.28-9.45 18.74-9.56 19.29-0.29 38.58-0.1 58.28-0.1v-39.75c-21.53 0-42.01 0.34-62.46-0.27-4.59-0.13-9.04-3.39-13.34-5.64-4.02-2.11-7.46-5.89-11.66-6.97-5.44-1.39-11.38-0.83-18.52-1.18 0-12.45 0.71-23.24-0.18-33.91-1-12.39 2.8-18.07 16.16-16.84z m-76.38 240.53c-0.03 25.06-5.65 30.9-30.35 30.91-141.21 0.08-282.42 0.08-423.63 0.01-25.68-0.01-31.39-5.86-31.4-31.73-0.05-141.75-0.05-283.5 0-425.26 0.01-24.74 5.99-30.8 30.55-30.81 141.75-0.06 283.5-0.06 425.26 0.01 23.5 0.01 29.54 6.21 29.56 29.99 0.08 71.42 0.03 142.83 0.03 214.25 0.01 70.87 0.05 141.75-0.02 212.63z" fill="#ffffff" p-id="5101"></path>
                    <path d="M696.81 310.02c-122.86 0.45-245.72 0.55-368.57-0.09-16.17-0.08-19.87 5.33-19.68 20.46 0.09 7.58 0.17 15.15 0.23 22.73 0.42 53.04 0.08 106.08 0.08 159.12 0 46.68 0.17 93.36 0.02 140.04-0.05 15.56-0.13 31.12-0.27 46.68-0.12 13.05 3.28 17.93 17.16 17.88 124.48-0.46 248.96-0.44 373.45-0.02 13.17 0.04 16.37-4.6 16.33-17.03-0.38-123.94-0.47-247.88 0.09-371.82 0.06-14.86-5.14-18-18.84-17.95zM385.78 419.11c-16.91-0.07-29.55-12.62-29.73-29.52-0.18-16.98 13.69-31.19 30.33-31.09 16.06 0.1 29.93 13.81 30.24 29.9 0.33 16.77-13.74 30.78-30.84 30.71z" fill="#ffffff" p-id="5102"></path>
                    <path d="M308.87 512.24c0-53.04 0.34-106.09-0.08-159.12 0.41 53.04 0.08 106.08 0.08 159.12 0 46.68 0.17 93.36 0.02 140.04 0.15-46.68-0.02-93.36-0.02-140.04z" fill="#ffffff" p-id="5103"></path>
                </svg>
                
                <!-- 连接线将通过JavaScript动态绘制 -->
                <svg id="connection-lines" class="connection-lines"></svg>
                
                <!-- 左侧气泡（扇形排列） -->
                <div class="bubble" id="bubble-gpio" data-position="left-top">
                    <a href="gpio.html">
                        <div class="bubble-icon"><i class="fas fa-exchange-alt"></i></div>
                        <div class="bubble-title">GPIO</div>
                        <div class="bubble-desc">通用输入输出接口，控制外部设备</div>
                    </a>
                </div>
                
                <div class="bubble" id="bubble-interrupt" data-position="left-middle-top">
                    <a href="interrupt.html">
                        <div class="bubble-icon"><i class="fas fa-bolt"></i></div>
                        <div class="bubble-title">中断系统</div>
                        <div class="bubble-desc">实时响应外部事件，提高效率</div>
                    </a>
                </div>
                
                <div class="bubble" id="bubble-timer" data-position="left-middle-bottom">
                    <a href="timer.html">
                        <div class="bubble-icon"><i class="fas fa-clock"></i></div>
                        <div class="bubble-title">定时器</div>
                        <div class="bubble-desc">多种定时器，支持PWM等功能</div>
                    </a>
                </div>
                
                <div class="bubble" id="bubble-dma" data-position="left-bottom">
                    <a href="dma.html">
                        <div class="bubble-icon"><i class="fas fa-tachometer-alt"></i></div>
                        <div class="bubble-title">DMA</div>
                        <div class="bubble-desc">直接存储器访问，高效传输</div>
                    </a>
                </div>
                
                <!-- 右侧气泡（扇形排列） -->
                <div class="bubble" id="bubble-adc" data-position="right-top">
                    <a href="adc.html">
                        <div class="bubble-icon"><i class="fas fa-wave-square"></i></div>
                        <div class="bubble-title">ADC</div>
                        <div class="bubble-desc">模数转换，模拟转数字信号</div>
                    </a>
                </div>
                
                <div class="bubble" id="bubble-usart" data-position="right-middle-top">
                    <a href="usart.html">
                        <div class="bubble-icon"><i class="fas fa-satellite-dish"></i></div>
                        <div class="bubble-title">USART</div>
                        <div class="bubble-desc">通用同步异步收发器</div>
                    </a>
                </div>
                
                <div class="bubble" id="bubble-i2c" data-position="right-middle-bottom">
                    <a href="i2c.html">
                        <div class="bubble-icon"><i class="fas fa-sliders-h"></i></div>
                        <div class="bubble-title">I2C</div>
                        <div class="bubble-desc">两线式串行总线，低速外设</div>
                    </a>
                </div>
                
                <div class="bubble" id="bubble-other" data-position="right-bottom">
                    <a href="other.html">
                        <div class="bubble-icon"><i class="fas fa-cogs"></i></div>
                        <div class="bubble-title">其它</div>
                        <div class="bubble-desc">SPI、CAN、USB等更多功能</div>
                    </a>
                </div>
            </div>
            
            <!-- 特性展示区域 -->
            <section class="features">
                <h2>STM32F103 核心特性</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3><i class="fas fa-microchip"></i> 高性能ARM Cortex-M3内核</h3>
                        <p>72MHz主频，1.25DMIPS/MHz，单周期乘法和硬件除法，提供卓越的处理性能。</p>
                    </div>
                    <div class="feature-card">
                        <h3><i class="fas fa-memory"></i> 丰富的存储资源</h3>
                        <p>64KB/128KB/256KB Flash存储器，20KB/48KB/64KB SRAM，满足各种应用需求。</p>
                    </div>
                    <div class="feature-card">
                        <h3><i class="fas fa-plug"></i> 丰富的外设接口</h3>
                        <p>多达80个快速I/O端口，支持多种通信接口：USART、I2C、SPI、CAN、USB等。</p>
                    </div>
                    <div class="feature-card">
                        <h3><i class="fas fa-bolt"></i> 先进的电源管理</h3>
                        <p>2.0-3.6V供电电压，低功耗模式，内置电压调节器，支持多种省电模式。</p>
                    </div>
                    <div class="feature-card">
                        <h3><i class="fas fa-tachometer-alt"></i> 强大的定时器系统</h3>
                        <p>3个通用定时器，1个高级控制定时器，2个看门狗定时器，1个系统嘀嗒定时器。</p>
                    </div>
                    <div class="feature-card">
                        <h3><i class="fas fa-signal"></i> 高精度ADC</h3>
                        <p>12位ADC，多达16个外部输入通道，转换速率高达1MHz，支持扫描和注入模式。</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>STM32F103  | 基于ARM Cortex-M3架构 | 提供学习资源和实践指南</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">提示：点击芯片周围的气泡可以跳转到对应功能模块的学习页面</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chipSvg = document.querySelector('.chip-svg');
            const bubbles = document.querySelectorAll('.bubble');
            const connectionLines = document.getElementById('connection-lines');
            const chipContainer = document.querySelector('.chip-container');
            
            // 芯片SVG中的连接点坐标（相对于芯片SVG中心，扇形排列）
            const connectionPoints = {
                // 左侧连接点（扇形分布）
                'left-top': { x: -0.4, y: -0.35 },
                'left-middle-top': { x: -0.4, y: -0.12 },
                'left-middle-bottom': { x: -0.4, y: 0.12 },
                'left-bottom': { x: -0.4, y: 0.35 },
                
                // 右侧连接点（扇形分布）
                'right-top': { x: 0.4, y: -0.35 },
                'right-middle-top': { x: 0.4, y: -0.12 },
                'right-middle-bottom': { x: 0.4, y: 0.12 },
                'right-bottom': { x: 0.4, y: 0.35 }
            };
            
            // 气泡位置配置（扇形对称排列在左右两侧，确保不重叠）
            const bubblePositions = {
                // 左侧气泡（扇形分布）
                'left-top': { x: 18, y: 0 },
                'left-middle-top': { x: 10, y: 26 },
                'left-middle-bottom': { x: 10, y: 52 },
                'left-bottom': { x: 18, y: 78 },
                
                // 右侧气泡（扇形分布）
                'right-top': { x: 68, y: 0 },
                'right-middle-top': { x: 76, y: 26 },
                'right-middle-bottom': { x: 76, y: 52 },
                'right-bottom': { x: 68, y: 78 }
            };
            
            // 更新所有气泡位置和连接线
            function updatePositions() {
                const containerRect = chipContainer.getBoundingClientRect();
                const chipRect = chipSvg.getBoundingClientRect();
                
                // 计算芯片相对于容器的位置
                const chipCenterX = chipRect.left - containerRect.left + chipRect.width / 2;
                const chipCenterY = chipRect.top - containerRect.top + chipRect.height / 2;
                
                // 清空之前的连接线
                connectionLines.innerHTML = '';
                
                // 设置连接线SVG大小
                connectionLines.setAttribute('width', containerRect.width);
                connectionLines.setAttribute('height', containerRect.height);
                
                // 更新每个气泡的位置
                bubbles.forEach(bubble => {
                    const position = bubble.getAttribute('data-position');
                    const posConfig = bubblePositions[position];
                    
                    if (!posConfig) return;
                    
                    // 计算气泡位置
                    const bubbleX = (posConfig.x / 100) * containerRect.width;
                    const bubbleY = (posConfig.y / 100) * containerRect.height;
                    
                    // 设置气泡位置
                    bubble.style.left = `${bubbleX}px`;
                    bubble.style.top = `${bubbleY}px`;
                    
                    // 添加位置类名
                    bubble.className = 'bubble ' + position;
                    
                    // 获取芯片上的连接点
                    const chipPoint = connectionPoints[position];
                    if (chipPoint) {
                        // 计算芯片连接点的绝对坐标
                        const chipPointX = chipCenterX + (chipPoint.x * chipRect.width / 2);
                        const chipPointY = chipCenterY + (chipPoint.y * chipRect.height / 2);
                        
                        // 计算气泡中心点
                        const bubbleRect = bubble.getBoundingClientRect();
                        const bubbleCenterX = bubbleRect.left - containerRect.left + bubbleRect.width / 2;
                        const bubbleCenterY = bubbleRect.top - containerRect.top + bubbleRect.height / 2;
                        
                        // 计算连接线终点（基于气泡位置）
                        let lineEndX, lineEndY;
                        
                        // 左侧气泡连接到右侧边缘
                        if (position.startsWith('left')) {
                            lineEndX = bubbleRect.left - containerRect.left + bubbleRect.width;
                            lineEndY = bubbleCenterY;
                        } 
                        // 右侧气泡连接到左侧边缘
                        else if (position.startsWith('right')) {
                            lineEndX = bubbleRect.left - containerRect.left;
                            lineEndY = bubbleCenterY;
                        }
                        
                        // 绘制连接线
                        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                        line.setAttribute('class', 'connection-line');
                        line.setAttribute('x1', chipPointX);
                        line.setAttribute('y1', chipPointY);
                        line.setAttribute('x2', lineEndX);
                        line.setAttribute('y2', lineEndY);
                        
                        // 添加悬停效果
                        bubble.addEventListener('mouseenter', function() {
                            line.style.stroke = '#aaa';
                            line.style.strokeWidth = '3';
                            line.style.strokeDasharray = 'none';
                        });
                        
                        bubble.addEventListener('mouseleave', function() {
                            line.style.stroke = '#666';
                            line.style.strokeWidth = '2';
                            line.style.strokeDasharray = '5, 5';
                        });
                        
                        connectionLines.appendChild(line);
                    }
                });
                
                // 显示所有气泡（延迟显示，创建动画效果）
                setTimeout(() => {
                    bubbles.forEach(bubble => {
                        bubble.classList.add('visible');
                    });
                }, 100);
            }
            
            // 初始化和窗口大小调整时更新位置
            updatePositions();
            window.addEventListener('resize', updatePositions);
            
            // 为芯片SVG添加悬停效果
            chipSvg.addEventListener('mouseenter', function() {
                chipSvg.style.filter = 'drop-shadow(0 0 20px rgba(255, 255, 255, 0.4))';
                
                // 高亮所有连接线
                document.querySelectorAll('.connection-line').forEach(line => {
                    line.style.stroke = '#888';
                });
            });
            
            chipSvg.addEventListener('mouseleave', function() {
                chipSvg.style.filter = 'drop-shadow(0 0 15px rgba(255, 255, 255, 0.15))';
                
                // 恢复连接线颜色
                document.querySelectorAll('.connection-line').forEach(line => {
                    if (!line.classList.contains('hovered')) {
                        line.style.stroke = '#666';
                    }
                });
            });
            
            // 添加气泡点击效果
            bubbles.forEach(bubble => {
                bubble.addEventListener('click', function(e) {
                    // 添加点击反馈
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
            });
            
            // 添加页面加载动画
            setTimeout(() => {
                document.body.style.opacity = 1;
                chipSvg.style.transform = 'scale(1)';
                
                // 为每个气泡添加延迟显示效果
                bubbles.forEach((bubble, index) => {
                    setTimeout(() => {
                        bubble.classList.add('visible');
                    }, 200 + index * 100);
                });
            }, 100);
            
            // 初始隐藏页面和设置芯片初始状态
            document.body.style.opacity = 0;
            chipSvg.style.transform = 'scale(0.9)';
            document.body.style.transition = 'opacity 0.8s ease';
            chipSvg.style.transition = 'transform 0.8s ease, filter 0.3s ease';
        });
    </script>
</body>
</html>