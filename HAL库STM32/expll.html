<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>模块详情 - STM32F103</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background-color: #0a0a0a;
            color: #f0f0f0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 头部样式 */
        header {
            padding: 30px 0 20px;
            border-bottom: 1px solid #333;
            margin-bottom: 40px;
        }
        
        /* 标题区域 */
        h1 {
            color: #fff;
            font-size: 2.8rem;
            margin-bottom: 5px;
            letter-spacing: 1px;
            text-align: right;
        }
        
        /* 副标题与按钮容器 */
        .subtitle-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .module-subtitle {
            color: #aaa;
            font-size: 1.2rem;
            line-height: 1.6;
            text-align: right;
            flex-shrink: 0;
        }
        
        /* 面包屑导航 */
        .breadcrumb {
            text-align: right;
            margin-bottom: 20px;
            color: #888;
            font-size: 0.95rem;
        }
        
        .breadcrumb a {
            color: #aaa;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .breadcrumb a:hover {
            color: #fff;
            text-decoration: underline;
        }
        
        /* 新增：按钮容器 - 左侧 */
        .header-buttons {
            display: flex;
            gap: 15px;
        }
        
        /* 导航按钮样式 */
        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background-color: #222;
            color: #fff;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            border: 1px solid #444;
            cursor: pointer;
            white-space: nowrap;
        }
        
        .nav-button:hover {
            background-color: #333;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .nav-button.cubemx {
            border-left: 4px solid #ff9800;
        }
        
        .nav-button.hal {
            border-left: 4px solid #4ec9b0;
        }
        
        .nav-button.details {
            border-left: 4px solid #569cd6;
        }
        
        /* 主要内容布局 */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 40px;
            margin-bottom: 60px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease forwards;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* 左侧内容区域 */
        .content-left {
            background-color: #111;
            border-radius: 15px;
            padding: 40px;
            border: 1px solid #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* 右侧侧边栏 - 模块详情 */
        .sidebar-right {
            background-color: #111;
            border-radius: 15px;
            padding: 30px;
            border: 1px solid #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateX(30px);
            animation: slideInRight 1s ease 0.3s forwards;
        }
        
        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* 内容区域样式 */
        .content-section {
            margin-bottom: 40px;
        }
        
        .content-section h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #fff;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .content-section h3 {
            font-size: 1.4rem;
            margin: 25px 0 15px;
            color: #ddd;
        }
        
        .content-section p {
            color: #bbb;
            line-height: 1.7;
            margin-bottom: 15px;
        }
        
        .content-section ul, .content-section ol {
            padding-left: 25px;
            margin-bottom: 20px;
        }
        
        .content-section li {
            color: #bbb;
            line-height: 1.7;
            margin-bottom: 8px;
        }
        
        /* 代码块样式 */
        .code-block {
            background-color: #1a1a1a;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #666;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        
        .code-block pre {
            color: #ddd;
            line-height: 1.5;
            white-space: pre-wrap;
        }
        
        .code-block code {
            color: #4ec9b0;
        }
        
        /* 配置选项表格 */
        .config-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .config-table th {
            background-color: #222;
            color: #fff;
            text-align: left;
            padding: 12px 15px;
            font-weight: 600;
            border-bottom: 2px solid #333;
        }
        
        .config-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #333;
            color: #bbb;
        }
        
        .config-table tr:nth-child(even) {
            background-color: #1a1a1a;
        }
        
        .config-table tr:hover {
            background-color: #222;
        }
        
        /* 侧边栏样式 - 模块详情 */
        .sidebar-section {
            margin-bottom: 30px;
        }
        
        .sidebar-section h3 {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #fff;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* 技术参数表格 */
        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .params-table th {
            background-color: #222;
            color: #fff;
            text-align: left;
            padding: 12px 15px;
            font-weight: 600;
            border-bottom: 2px solid #333;
        }
        
        .params-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #333;
            color: #bbb;
        }
        
        .params-table tr:nth-child(even) {
            background-color: #1a1a1a;
        }
        
        .params-table tr:hover {
            background-color: #222;
        }
        
        /* 寄存器列表 */
        .register-list {
            list-style: none;
            padding: 0;
        }
        
        .register-list li {
            padding: 10px 15px;
            margin-bottom: 8px;
            background-color: #1a1a1a;
            border-radius: 6px;
            border-left: 3px solid #666;
            transition: all 0.3s ease;
        }
        
        .register-list li:hover {
            background-color: #222;
            border-left-color: #aaa;
            transform: translateX(5px);
        }
        
        .register-name {
            font-weight: bold;
            color: #fff;
            display: block;
            margin-bottom: 5px;
        }
        
        .register-desc {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* 功能标签 */
        .pin-functions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .pin-tag {
            background-color: #1a1a1a;
            color: #ccc;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid #333;
            transition: all 0.3s ease;
        }
        
        .pin-tag:hover {
            background-color: #222;
            border-color: #666;
            transform: translateY(-3px);
        }
        
        /* 模块特性卡片 */
        .module-features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-card {
            background-color: #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            border-top: 4px solid #666;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: #aaa;
        }
        
        .feature-card h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-card p {
            color: #bbb;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* 返回按钮 */
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background-color: #222;
            color: #fff;
            text-decoration: none;
            padding: 12px 25px;
            border-radius: 8px;
            margin-top: 20px;
            transition: all 0.3s ease;
            border: 1px solid #444;
        }
        
        .back-button:hover {
            background-color: #333;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* 页脚 */
        footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 60px;
            border-top: 1px solid #333;
            color: #888;
            font-size: 0.9rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr 300px;
            }
            
            .content-left {
                padding: 30px;
            }
            
            .sidebar-right {
                padding: 25px;
            }
        }
        
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .sidebar-right {
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .module-subtitle {
                font-size: 1rem;
            }
            
            .content-left, .sidebar-right {
                padding: 25px;
            }
            
            .module-features {
                grid-template-columns: 1fr;
            }
            
            .params-table, .config-table {
                font-size: 0.9rem;
            }
            
            .params-table th, .params-table td,
            .config-table th, .config-table td {
                padding: 10px 12px;
            }
            
            .subtitle-container {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .module-subtitle {
                text-align: left;
                width: 100%;
            }
            
            .header-buttons {
                width: 100%;
                justify-content: flex-start;
            }
            
            .breadcrumb {
                text-align: left;
            }
        }
        
        @media (max-width: 576px) {
            .content-left, .sidebar-right {
                padding: 20px;
            }
            
            .content-section h2 {
                font-size: 1.6rem;
            }
            
            .content-section h3 {
                font-size: 1.3rem;
            }
            
            .sidebar-section h3 {
                font-size: 1.3rem;
            }
            
            .header-buttons {
                flex-direction: column;
                width: 100%;
            }
            
            .nav-button {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">
                <a href="demo.html">主页</a> &gt; <span>模块详情</span>
            </div>
            
            <h1>模块名称</h1>
            
            <!-- 副标题与按钮容器 -->
            <div class="subtitle-container">
                <!-- 新增的按钮容器 - 左侧 -->
                <div class="header-buttons">
                    <button class="nav-button cubemx" onclick="scrollToSection('cubemx-quickstart')">
                        <i class="fas fa-tools"></i> CubeMX使用
                    </button>
                    <button class="nav-button hal" onclick="scrollToSection('hal-library')">
                        <i class="fas fa-code"></i> HAL库使用
                    </button>
                    <button class="nav-button details" onclick="scrollToSection('details')">
                        <i class="fas fa-info-circle"></i> 详细信息
                    </button>
                </div>
                
                <!-- 副标题 - 右侧 -->
                <p class="module-subtitle">模块的简要描述和核心功能介绍，此处替换为实际模块的描述</p>
            </div>
        </header>
        
        <main>
            <div class="main-content">
                <!-- 左侧内容区域 -->
                <div class="content-left">
                    <div class="content-section">
                        <h2><i class="fas fa-info-circle"></i> 概述</h2>
                        <p>此处是模块的详细概述内容。详细介绍该模块的功能、特性和应用场景。左侧内容区域提供了充足的阅读空间，适合放置详细的文字说明、图表和技术参数。</p>
                        
                        <h3>主要功能与特性</h3>
                        <p>模块的主要功能和特性详细描述：</p>
                        
                        <ul>
                            <li><strong>功能一</strong>：描述第一个主要功能及其应用场景</li>
                            <li><strong>功能二</strong>：描述第二个主要功能及其应用场景</li>
                            <li><strong>功能三</strong>：描述第三个主要功能及其应用场景</li>
                            <li><strong>功能四</strong>：描述第四个主要功能及其应用场景</li>
                            <li><strong>功能五</strong>：描述第五个主要功能及其应用场景</li>
                            <li><strong>功能六</strong>：描述第六个主要功能及其应用场景</li>
                        </ul>
                    </div>
                    
                    <!-- CubeMX使用部分 -->
                    <div id="cubemx-quickstart" class="content-section">
                        <h2><i class="fas fa-tools"></i> CubeMX使用</h2>
                        <p>STM32CubeMX是ST官方提供的图形化配置工具，可以快速配置模块参数，生成初始化代码。</p>
                        
                        <h3>模块分配与配置</h3>
                        <p>在CubeMX中配置模块的基本步骤：</p>
                        <ul>
                            <li><strong>分配模块</strong>：在Pinout & Configuration页面，将相关引脚设为模块功能</li>
                            <li><strong>配置模块参数</strong>：在Configuration中配置详细参数，如时钟、模式、中断等</li>
                            <li><strong>生成代码</strong>：生成初始化代码和HAL库函数调用</li>
                        </ul>
                        
                        <h3>CubeMX配置选项</h3>
                        <p>在CubeMX中配置模块时，常见的选项：</p>
                        
                        <table class="config-table">
                            <thead>
                                <tr>
                                    <th>配置项</th>
                                    <th>说明</th>
                                    <th>常用选项</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>工作模式</td>
                                    <td>模块的工作模式选择</td>
                                    <td>模式1<br>模式2<br>模式3</td>
                                </tr>
                                <tr>
                                    <td>时钟源</td>
                                    <td>模块的时钟源选择</td>
                                    <td>内部时钟<br>外部时钟<br>PLL时钟</td>
                                </tr>
                                <tr>
                                    <td>中断配置</td>
                                    <td>中断使能和优先级</td>
                                    <td>使能/禁用<br>优先级设置</td>
                                </tr>
                                <tr>
                                    <td>参数设置</td>
                                    <td>模块特定参数配置</td>
                                    <td>参数1<br>参数2<br>参数3</td>
                                </tr>
                                <tr>
                                    <td>引脚重映射</td>
                                    <td>引脚功能重映射</td>
                                    <td>重映射选项1<br>重映射选项2</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>CubeMX生成的初始化代码</h3>
                        <p>CubeMX会自动生成模块初始化代码，以下是典型示例：</p>
                        
                        <div class="code-block">
                            <pre><code>// CubeMX生成的模块初始化代码（main.c中的MX_MODULE_Init函数）
static void MX_MODULE_Init(void) {
    MODULE_HandleTypeDef hmodule;
    
    // 使能模块时钟
    __HAL_RCC_MODULE_CLK_ENABLE();
    
    // 配置模块参数
    hmodule.Instance = MODULE;
    hmodule.Init.Param1 = VALUE1;
    hmodule.Init.Param2 = VALUE2;
    hmodule.Init.Param3 = VALUE3;
    
    // 初始化模块
    if (HAL_MODULE_Init(&hmodule) != HAL_OK) {
        Error_Handler();
    }
    
    // 配置模块中断
    HAL_NVIC_SetPriority(MODULE_IRQn, 0, 0);
    HAL_NVIC_EnableIRQ(MODULE_IRQn);
}</code></pre>
                        </div>
                        
                        <h3>使用CubeMX配置的优势</h3>
                        <ul>
                            <li><strong>可视化配置</strong>：图形界面直观，避免寄存器配置错误</li>
                            <li><strong>代码自动生成</strong>：自动生成初始化代码和HAL库函数调用</li>
                            <li><strong>引脚冲突检测</strong>：自动检测引脚功能冲突并提示</li>
                            <li><strong>时钟树配置</strong>：图形化配置系统时钟和外设时钟</li>
                            <li><strong>项目管理</strong>：支持生成多种IDE工程文件（Keil、IAR、Eclipse等）</li>
                        </ul>
                    </div>
                        
                    <!-- HAL库使用部分 -->
                    <div id="hal-library" class="content-section">
                        <h2><i class="fas fa-code"></i> HAL库使用</h2>
                        <p>STM32 HAL库提供了简洁易用的模块操作接口，以下是如何使用HAL库配置和操作模块的详细说明。</p>
                        
                        <h3>HAL主要函数列表</h3>
                        <div class="code-block">
                            <pre><code>// 模块HAL主要函数
HAL_MODULE_Init()          // 初始化模块
HAL_MODULE_DeInit()        // 反初始化模块
HAL_MODULE_Start()         // 启动模块工作
HAL_MODULE_Stop()          // 停止模块工作
HAL_MODULE_GetState()      // 获取模块状态
HAL_MODULE_IRQHandler()    // 中断处理函数
HAL_MODULE_Callback()      // 回调函数</code></pre>
                        </div>
                        
                        <h3>常用HAL函数使用示例</h3>
                        <p>基本模块操作函数：</p>
                        
                        <div class="code-block">
                            <pre><code>// 常用HAL函数使用示例
#include "stm32f1xx_hal.h"

// 初始化模块
void Module_Init_Example(void) {
    MODULE_HandleTypeDef hmodule;
    
    // 配置模块参数
    hmodule.Instance = MODULE;
    hmodule.Init.Mode = MODULE_MODE_NORMAL;
    hmodule.Init.Speed = MODULE_SPEED_HIGH;
    hmodule.Init.Param = 0x1234;
    
    // 初始化模块
    if (HAL_MODULE_Init(&hmodule) != HAL_OK) {
        // 初始化失败处理
    }
}

// 启动模块工作
void Start_Module(void) {
    // 启动模块
    HAL_MODULE_Start(&hmodule);
    
    // 检查模块状态
    if (HAL_MODULE_GetState(&hmodule) == HAL_MODULE_STATE_READY) {
        // 模块已就绪
    }
}

// 停止模块工作
void Stop_Module(void) {
    HAL_MODULE_Stop(&hmodule);
}</code></pre>
                        </div>
                        
                        <h3>模块配置结构体</h3>
                        <p>模块配置通过<code>MODULE_InitTypeDef</code>结构体完成：</p>
                        
                        <div class="code-block">
                            <pre><code>// MODULE_InitTypeDef 结构体定义
typedef struct {
    uint32_t Mode;      // 工作模式
    uint32_t Speed;     // 工作速度
    uint32_t Param1;    // 参数1
    uint32_t Param2;    // 参数2
    uint32_t Param3;    // 参数3
} MODULE_InitTypeDef;

// 模式（Mode）可选值：
// MODULE_MODE_NORMAL        // 普通模式
// MODULE_MODE_FAST          // 快速模式
// MODULE_MODE_LOW_POWER     // 低功耗模式
// MODULE_MODE_INTERRUPT     // 中断模式
// MODULE_MODE_DMA           // DMA模式</code></pre>
                        </div>
                        
                        <h3>HAL库模块初始化示例</h3>
                        <p>使用HAL库初始化模块的完整示例：</p>
                        
                        <div class="code-block">
                            <pre><code>// HAL库模块初始化完整示例
#include "stm32f1xx_hal.h"

MODULE_HandleTypeDef hmodule;

void Module_Full_Init_Example(void) {
    // 1. 使能模块时钟
    __HAL_RCC_MODULE_CLK_ENABLE();
    
    // 2. 配置GPIO引脚（如果模块需要特定引脚）
    GPIO_InitTypeDef GPIO_InitStruct = {0};
    GPIO_InitStruct.Pin = GPIO_PIN_0;
    GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
    GPIO_InitStruct.Pull = GPIO_NOPULL;
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
    HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
    
    // 3. 配置模块参数
    hmodule.Instance = MODULE;
    hmodule.Init.Mode = MODULE_MODE_NORMAL;
    hmodule.Init.Speed = MODULE_SPEED_HIGH;
    hmodule.Init.Param1 = 0x1000;
    hmodule.Init.Param2 = 0x00FF;
    
    // 4. 初始化模块
    if (HAL_MODULE_Init(&hmodule) != HAL_OK) {
        Error_Handler();
    }
    
    // 5. 配置模块中断
    HAL_NVIC_SetPriority(MODULE_IRQn, 0, 0);
    HAL_NVIC_EnableIRQ(MODULE_IRQn);
    
    // 6. 启动模块
    HAL_MODULE_Start(&hmodule);
}</code></pre>
                        </div>
                        
                        <h3>模块中断配置示例</h3>
                        <p>配置模块中断的完整示例：</p>
                        
                        <div class="code-block">
                            <pre><code>// 模块中断配置示例
#include "stm32f1xx_hal.h"

MODULE_HandleTypeDef hmodule;

// 模块初始化
void Module_Interrupt_Init(void) {
    // 配置模块参数，启用中断
    hmodule.Instance = MODULE;
    hmodule.Init.Mode = MODULE_MODE_INTERRUPT;
    hmodule.Init.InterruptEnable = ENABLE;
    
    // 初始化模块
    HAL_MODULE_Init(&hmodule);
    
    // 配置中断优先级
    HAL_NVIC_SetPriority(MODULE_IRQn, 1, 0);
    HAL_NVIC_EnableIRQ(MODULE_IRQn);
}

// 在stm32f1xx_it.c中调用中断处理函数
void MODULE_IRQHandler(void) {
    HAL_MODULE_IRQHandler(&hmodule);
}

// 实现中断回调函数
void HAL_MODULE_Callback(MODULE_HandleTypeDef *hmodule) {
    // 处理模块中断
    // 可以在此处添加自定义处理代码
}</code></pre>
                        </div>
                        
                        <h3>常用编程示例</h3>
                        <p>以下是一些常用的模块操作示例：</p>
                        <div class="code-block">
                            <pre><code>// 直接寄存器操作模块示例
RCC->APB2ENR |= RCC_APB2ENR_MODULE_EN;   // 使能模块时钟
MODULE->CR |= MODULE_CR_EN;              // 使能模块
MODULE->CR |= MODULE_CR_START;           // 启动模块
MODULE->DR = 0x1234;                     // 写入数据

// 使用DMA传输数据
MODULE->CR |= MODULE_CR_DMA_EN;          // 使能DMA
DMA1_Channel1->CNDTR = 16;               // 设置传输数量
DMA1_Channel1->CPAR = (uint32_t)&(MODULE->DR); // 设置外设地址
DMA1_Channel1->CMAR = (uint32_t)buffer;  // 设置存储器地址
DMA1_Channel1->CCR |= DMA_CCR_EN;        // 使能DMA</code></pre>
                        </div>
                    </div>
                    
                    <div class="content-section">
                        <h2><i class="fas fa-cogs"></i> 配置与使用</h2>
                        <p>模块的正确配置是确保系统正常工作的基础。以下是模块配置的详细步骤和最佳实践。</p>
                        
                        <h3>模块配置步骤</h3>
                        <ol>
                            <li><strong>时钟使能</strong>：通过RCC寄存器使能对应模块的时钟</li>
                            <li><strong>引脚配置</strong>：配置模块所需引脚的GPIO模式</li>
                            <li><strong>参数设置</strong>：根据应用需求设置工作模式、速度、参数等</li>
                            <li><strong>中断配置</strong>：如需中断功能，配置NVIC优先级和中断使能</li>
                            <li><strong>初始化完成</strong>：调用HAL_MODULE_Init()函数应用配置</li>
                        </ol>
                        
                        <h3>高级功能配置</h3>
                        <p>模块的高级功能配置示例：</p>
                        
                        <div class="code-block">
                            <pre><code>// 高级功能配置示例
void Module_Advanced_Config(void) {
    MODULE_HandleTypeDef hmodule;
    
    // 配置DMA传输
    hmodule.hdmatx = &hdma_module_tx;
    hmodule.hdmarx = &hdma_module_rx;
    
    // 配置高级参数
    hmodule.Init.AdvancedParam1 = VALUE1;
    hmodule.Init.AdvancedParam2 = VALUE2;
    
    // 配置滤波器
    hmodule.Init.Filter = MODULE_FILTER_ENABLE;
    hmodule.Init.FilterParam = 0x0F;
    
    // 初始化模块
    HAL_MODULE_Init(&hmodule);
}</code></pre>
                        </div>
                        
                        <h3>低功耗模式配置</h3>
                        <p>配置模块低功耗模式的完整流程：</p>
                        <div class="code-block">
                            <pre><code>// 低功耗模式配置
void Module_LowPower_Config(void) {
    MODULE_HandleTypeDef hmodule;
    
    // 配置为低功耗模式
    hmodule.Init.Mode = MODULE_MODE_LOW_POWER;
    hmodule.Init.Speed = MODULE_SPEED_LOW;
    
    // 配置唤醒功能
    hmodule.Init.Wakeup = MODULE_WAKEUP_ENABLE;
    hmodule.Init.WakeupSource = MODULE_WAKEUP_SOURCE1;
    
    // 初始化模块
    HAL_MODULE_Init(&hmodule);
    
    // 进入低功耗模式前保存上下文
    Module_SaveContext();
    
    // 使能唤醒中断
    HAL_NVIC_EnableIRQ(WAKEUP_IRQn);
}</code></pre>
                        </div>
                    </div>
                    
                    <!-- 详细信息部分 -->
                    <div id="details" class="content-section">
                        <h2><i class="fas fa-file-alt"></i> 详细信息</h2>
                        <p>深入了解模块的内部架构、性能特性和高级功能。</p>
                        
                        <h3>模块架构设计</h3>
                        <p>模块采用高度灵活的架构设计：</p>
                        <ul>
                            <li><strong>控制寄存器</strong>：MODULE_CR控制模块工作模式与使能</li>
                            <li><strong>状态寄存器</strong>：MODULE_SR用于读取模块当前状态和标志位</li>
                            <li><strong>数据寄存器</strong>：MODULE_DR存储输入/输出数据</li>
                            <li><strong>配置寄存器</strong>：MODULE_CFG配置模块参数和选项</li>
                            <li><strong>中断寄存器</strong>：MODULE_IER/MODULE_ISR管理和查看中断状态</li>
                        </ul>
                        
                        <h3>性能分析与优化</h3>
                        <p>模块性能关键指标和优化建议：</p>
                        <ul>
                            <li><strong>最大工作频率</strong>：根据时钟配置确定</li>
                            <li><strong>数据吞吐量</strong>：优化传输参数提高吞吐量</li>
                            <li><strong>功耗优化</strong>：合理使用低功耗模式和时钟门控</li>
                            <li><strong>响应时间</strong>：优化中断处理和DMA配置减少延迟</li>
                            <li><strong>抗干扰能力</strong>：合理配置滤波器和去抖动参数</li>
                        </ul>
                        
                        <h3>不同产品系列的模块差异</h3>
                        <div class="code-block">
                            <pre><code>// 不同STM32系列的模块差异
#if defined(STM32F103xE) || defined(STM32F103xG)
    // 大容量产品：完整功能支持
    #define MODULE_FULL_FEATURES
    #define MODULE_ADVANCED_MODE
#elif defined(STM32F103xC)
    // 中容量产品：基础功能支持
    #define MODULE_BASIC_FEATURES
    #define MODULE_STANDARD_MODE
#elif defined(STM32F103x8) || defined(STM32F103xB)
    // 小容量产品：有限功能支持
    #define MODULE_LIMITED_FEATURES
#endif</code></pre>
                        </div>
                        
                        <h3>模块在低功耗模式下的行为</h3>
                        <p>了解模块在不同低功耗模式下的状态：</p>
                        <ul>
                            <li><strong>睡眠模式</strong>：模块状态保持，可被特定事件唤醒</li>
                            <li><strong>停机模式</strong>：模块大部分功能关闭，仅唤醒电路工作</li>
                            <li><strong>待机模式</strong>：模块完全关闭，仅复位和唤醒引脚有效</li>
                            <li><strong>功耗优化建议</strong>：进入低功耗前，保存模块上下文并禁用模块</li>
                        </ul>
                        
                        <h3>故障排除与调试技巧</h3>
                        <p>常见模块问题及解决方法：</p>
                        <ul>
                            <li><strong>模块无响应</strong>：检查时钟是否使能，电源是否正常，复位引脚状态</li>
                            <li><strong>数据错误</strong>：检查参数配置，时钟频率，信号完整性</li>
                            <li><strong>中断不触发</strong>：确认中断使能，检查NVIC优先级，验证触发条件</li>
                            <li><strong>性能不达标</strong>：优化配置参数，检查时钟树设置，使用DMA传输</li>
                            <li><strong>功耗过高</strong>：检查模块工作模式，关闭未使用功能，优化时钟配置</li>
                        </ul>
                    </div>
                    
                    <!-- 模块特性卡片展示 -->
                    <div class="content-section">
                        <h2><i class="fas fa-star"></i> 模块核心特性</h2>
                        <div class="module-features">
                            <div class="feature-card">
                                <h4><i class="fas fa-sliders-h"></i> 高度可配置</h4>
                                <p>支持多种工作模式和参数配置，可根据应用需求灵活调整，适应不同的使用场景。</p>
                            </div>
                            <div class="feature-card">
                                <h4><i class="fas fa-bolt"></i> 高性能</h4>
                                <p>提供高速数据吞吐能力，低延迟响应，满足实时性要求高的应用场景。</p>
                            </div>
                            <div class="feature-card">
                                <h4><i class="fas fa-exchange-alt"></i> 多种接口</h4>
                                <p>支持中断、DMA、轮询等多种数据交换方式，可与系统其他模块高效协同工作。</p>
                            </div>
                            <div class="feature-card">
                                <h4><i class="fas fa-power-off"></i> 低功耗</h4>
                                <p>支持多种低功耗模式，可根据系统状态动态调整功耗，延长电池使用寿命。</p>
                            </div>
                        </div>
                    </div>
                    
                    <a href="demo.html" class="back-button">
                        <i class="fas fa-arrow-left"></i> 返回主页面
                    </a>
                </div>
                
                <!-- 右侧侧边栏 - 模块详情 -->
                <div class="sidebar-right">
                    <div class="sidebar-section">
                        <h3><i class="fas fa-microchip"></i> 技术参数</h3>
                        <table class="params-table">
                            <thead>
                                <tr>
                                    <th>参数</th>
                                    <th>值/规格</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>工作电压</td>
                                    <td>2.0V - 3.6V</td>
                                </tr>
                                <tr>
                                    <td>工作频率</td>
                                    <td>最高 72 MHz</td>
                                </tr>
                                <tr>
                                    <td>数据宽度</td>
                                    <td>8/16/32 位</td>
                                </tr>
                                <tr>
                                    <td>时钟源</td>
                                    <td>内部/外部/PLL</td>
                                </tr>
                                <tr>
                                    <td>中断源</td>
                                    <td>多个可配置</td>
                                </tr>
                                <tr>
                                    <td>DMA通道</td>
                                    <td>支持 DMA1/DMA2</td>
                                </tr>
                                <tr>
                                    <td>待机功耗</td>
                                    <td>&lt; 5 μA</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3><i class="fas fa-list-alt"></i> 主要寄存器</h3>
                        <ul class="register-list">
                            <li>
                                <span class="register-name">MODULE_CR</span>
                                <span class="register-desc">控制寄存器，配置工作模式、使能/禁用等</span>
                            </li>
                            <li>
                                <span class="register-name">MODULE_SR</span>
                                <span class="register-desc">状态寄存器，读取模块当前状态和标志位</span>
                            </li>
                            <li>
                                <span class="register-name">MODULE_DR</span>
                                <span class="register-desc">数据寄存器，存储输入/输出数据</span>
                            </li>
                            <li>
                                <span class="register-name">MODULE_CFG</span>
                                <span class="register-desc">配置寄存器，配置模块参数和选项</span>
                            </li>
                            <li>
                                <span class="register-name">MODULE_IER</span>
                                <span class="register-desc">中断使能寄存器，控制中断源使能</span>
                            </li>
                            <li>
                                <span class="register-name">MODULE_ISR</span>
                                <span class="register-desc">中断状态寄存器，管理和查看中断状态</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3><i class="fas fa-plug"></i> 工作模式</h3>
                        <div class="pin-functions">
                            <span class="pin-tag">普通模式</span>
                            <span class="pin-tag">高速模式</span>
                            <span class="pin-tag">低功耗模式</span>
                            <span class="pin-tag">中断模式</span>
                            <span class="pin-tag">DMA模式</span>
                            <span class="pin-tag">单次模式</span>
                            <span class="pin-tag">连续模式</span>
                            <span class="pin-tag">同步模式</span>
                            <span class="pin-tag">异步模式</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3><i class="fas fa-exclamation-triangle"></i> 注意事项</h3>
                        <p style="color: #bbb; font-size: 0.95rem; line-height: 1.6; margin-top: 15px;">
                            <i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 8px;"></i> 
                            使用前务必使能对应模块时钟<br><br>
                            <i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 8px;"></i> 
                            配置参数前请参考数据手册的允许范围<br><br>
                            <i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 8px;"></i> 
                            高速传输时需注意信号完整性和时序要求<br><br>
                            <i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 8px;"></i> 
                            未使用的模块建议禁用以降低功耗
                        </p>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3><i class="fas fa-history"></i> 典型应用场景</h3>
                        <p style="color: #bbb; font-size: 0.95rem; line-height: 1.6; margin-top: 15px;">
                            • 数据采集与处理<br>
                            • 通信接口扩展<br>
                            • 传感器信号调理<br>
                            • 电机控制与驱动<br>
                            • 电源管理<br>
                            • 人机接口<br>
                            • 系统监控与诊断
                        </p>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>STM32F103 模块详情页面模板 | 包含CubeMX配置、HAL库使用和技术参数</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">提示：此模板可用于创建各种STM32外设模块的详情页面，只需替换内容即可</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 页面加载动画
            document.body.style.opacity = 0;
            document.body.style.transition = 'opacity 0.8s ease';
            
            setTimeout(() => {
                document.body.style.opacity = 1;
            }, 100);
            
            // 为引脚标签添加悬停效果
            const pinTags = document.querySelectorAll('.pin-tag');
            pinTags.forEach(tag => {
                tag.addEventListener('mouseenter', function() {
                    this.style.boxShadow = '0 0 10px rgba(100, 100, 100, 0.5)';
                });
                
                tag.addEventListener('mouseleave', function() {
                    this.style.boxShadow = 'none';
                });
            });
            
            // 为表格行添加悬停效果
            const tableRows = document.querySelectorAll('.params-table tr, .config-table tr');
            tableRows.forEach(row => {
                row.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = '#2a2a2a';
                });
                
                row.addEventListener('mouseleave', function() {
                    if (this.rowIndex % 2 === 0) {
                        this.style.backgroundColor = '#1a1a1a';
                    } else {
                        this.style.backgroundColor = '';
                    }
                });
            });
            
            // 为返回按钮添加点击效果
            const backButton = document.querySelector('.back-button');
            if (backButton) {
                backButton.addEventListener('click', function(e) {
                    // 添加点击反馈
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
            }
            
            // 为导航按钮添加点击效果
            const navButtons = document.querySelectorAll('.nav-button');
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // 添加点击反馈
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
            });
        });
        
        // 滚动到指定部分的函数
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                // 平滑滚动到目标位置
                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
                
                // 添加视觉反馈
                element.style.backgroundColor = '#2a2a2a';
                setTimeout(() => {
                    element.style.backgroundColor = '';
                }, 1500);
            }
        }
    </script>
</body>
</html>